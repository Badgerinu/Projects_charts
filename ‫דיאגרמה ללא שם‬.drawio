<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36" version="24.8.3">
  <diagram name="‫עמוד-1‬" id="4UTmtsU5IGrYidXw7zGl">
    <mxGraphModel dx="3738" dy="1581" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="lPmOptHhdy0TYfp4bBg2-40" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fillStyle=auto;shadow=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="710" y="320" width="610" height="390" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-33" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#AAB5C4;strokeColor=none;fillStyle=auto;shadow=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="720" width="500" height="310" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="lPmOptHhdy0TYfp4bBg2-1" target="lPmOptHhdy0TYfp4bBg2-19" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="700" y="10" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Battle&lt;/font&gt;&lt;div&gt;&lt;font size=&quot;3&quot; color=&quot;#ff8000&quot;&gt;node2D&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#AAB5C4;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="590" y="40" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;endFill=0;dashed=1;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="lPmOptHhdy0TYfp4bBg2-2" target="lPmOptHhdy0TYfp4bBg2-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="710" y="230" />
              <mxPoint x="710" y="50" />
              <mxPoint x="1004" y="50" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-2" value="tiles&lt;div&gt;&lt;font color=&quot;#ff8000&quot;&gt;TileMap&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="600" y="250" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-3" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;cell_highlights&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px;&quot; color=&quot;#ff8000&quot;&gt;node2D&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CC99FF;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="600" y="190" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;dashed=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=2;endArrow=none;endFill=0;" parent="1" source="lPmOptHhdy0TYfp4bBg2-4" target="lPmOptHhdy0TYfp4bBg2-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="585" y="30" />
              <mxPoint x="740" y="30" />
              <mxPoint x="740" y="60" />
              <mxPoint x="1014" y="60" />
              <mxPoint x="1014" y="54" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;endArrow=none;endFill=0;dashed=1;dashPattern=1 2;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="lPmOptHhdy0TYfp4bBg2-4" target="lPmOptHhdy0TYfp4bBg2-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-4" value="units&lt;div&gt;&lt;font style=&quot;font-size: 12px;&quot; color=&quot;#ff8000&quot;&gt;UnitsContainer&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d9b4b2;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="480" y="40" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-15" value="Navigation&lt;div&gt;&lt;font color=&quot;#ff8000&quot;&gt;node&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff570f&quot;&gt;singelton&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="600" y="310" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-19" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;Battle&amp;nbsp;&lt;/span&gt;&lt;font color=&quot;#cc0000&quot;&gt;script&lt;/font&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="760" y="10" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-21" value="&lt;font color=&quot;#cc0000&quot;&gt;var &lt;/font&gt;&lt;font color=&quot;#000066&quot;&gt;tiles&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(255, 128, 0);&quot;&gt;TileMap&lt;/span&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="980" y="10" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-22" value="&lt;font color=&quot;#cc0000&quot;&gt;var &lt;/font&gt;&lt;font color=&quot;#000066&quot;&gt;units&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(255, 128, 0);&quot;&gt;UnitsContainer&lt;/span&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="980" y="40" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-36" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="750" y="70" width="259.77" height="130" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-11" value="Ready()" style="shape=delay;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" parent="lPmOptHhdy0TYfp4bBg2-36" vertex="1">
          <mxGeometry x="11" width="90" height="20" as="geometry" />
        </mxCell>
        <UserObject label="" Notes="#function for playing each sound, the arguments are the player node to play the sound, and the keyword from dic&#xa;#if we have the keyword in the sounds dictonary we continue if not return&#xa; #load the sound file to the player we choose&#xa;#play the sound" id="lPmOptHhdy0TYfp4bBg2-28">
          <mxCell style="html=1;overflow=block;blockSpacing=1;whiteSpace=wrap;fontSize=11.8;align=left;spacing=0;verticalAlign=top;strokeColor=#d6b656;fillOpacity=100;fillColor=#fff2cc;strokeWidth=NaN;lucidId=MKeQQ6PfqjTb;aspect=fixed;verticalLabelPosition=bottom;shape=mxgraph.basic.plaque;dx=6;" parent="lPmOptHhdy0TYfp4bBg2-36" vertex="1">
            <mxGeometry y="20" width="259.77" height="110" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-29" value="&lt;font color=&quot;#030100&quot;&gt;Navigation&lt;/font&gt;.&lt;font color=&quot;#cccc00&quot;&gt;init_level&lt;/font&gt;(tiles, &lt;font color=&quot;#0f0800&quot;&gt;units&lt;/font&gt;.&lt;font color=&quot;#cccc00&quot;&gt;get_active_units&lt;/font&gt;)&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#0f0800&quot;&gt;units&lt;/font&gt;.&lt;font color=&quot;#cccc00&quot;&gt;start_battle()&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="strokeColor=none;fillColor=none;whiteSpace=wrap;fontSize=10;align=left;horizontal=1;verticalAlign=top;fontColor=#FF8000;html=1;" parent="lPmOptHhdy0TYfp4bBg2-28" vertex="1">
          <mxGeometry x="4.228667175731491" y="9.169672131147541" width="248.2290746589844" height="83.00491803278688" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0.041;entryY=0.977;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=8 8;" parent="1" source="lPmOptHhdy0TYfp4bBg2-15" target="lPmOptHhdy0TYfp4bBg2-28" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="730" y="290" />
              <mxPoint x="730" y="245" />
              <mxPoint x="761" y="245" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-38" value="Navigation&amp;nbsp;&lt;font color=&quot;#cc0000&quot;&gt;script&lt;/font&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="780" y="335" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.152;entryY=0.018;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="lPmOptHhdy0TYfp4bBg2-15" target="lPmOptHhdy0TYfp4bBg2-38" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="752" y="328" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-41" value="&lt;font color=&quot;#cc0000&quot;&gt;const &lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;TILE_SIZE&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;: &lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;int &lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;= 16&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1000" y="340" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-42" value="&lt;font color=&quot;#cc0000&quot;&gt;var &lt;/font&gt;&lt;font color=&quot;#080000&quot;&gt;grid&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;: &lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;AStarGrid2D&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1000" y="365" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-43" value="&lt;font color=&quot;#cc0000&quot;&gt;var &lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;unit_lookup&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;: &lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;Callable&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1000" y="388.5" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-44" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="720" y="370" width="270" height="220" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-45" value="&lt;font style=&quot;font-size: 9px;&quot;&gt;init_level(tilemap: &lt;font color=&quot;#004c99&quot;&gt;TileMap&lt;/font&gt;, unit_lookup_callable: &lt;font color=&quot;#004c99&quot;&gt;Callable&lt;/font&gt;)&lt;/font&gt;" style="shape=delay;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" parent="lPmOptHhdy0TYfp4bBg2-44" vertex="1">
          <mxGeometry x="11" width="239" height="28.115015974440894" as="geometry" />
        </mxCell>
        <UserObject label="" Notes="#function for playing each sound, the arguments are the player node to play the sound, and the keyword from dic&#xa;#if we have the keyword in the sounds dictonary we continue if not return&#xa; #load the sound file to the player we choose&#xa;#play the sound" id="lPmOptHhdy0TYfp4bBg2-46">
          <mxCell style="html=1;overflow=block;blockSpacing=1;whiteSpace=wrap;fontSize=11.8;align=left;spacing=0;verticalAlign=top;strokeColor=#d6b656;fillOpacity=100;fillColor=#fff2cc;strokeWidth=NaN;lucidId=MKeQQ6PfqjTb;aspect=fixed;verticalLabelPosition=bottom;shape=mxgraph.basic.plaque;dx=6;" parent="lPmOptHhdy0TYfp4bBg2-44" vertex="1">
            <mxGeometry y="28.115015974440894" width="246.70926517571885" height="191.8849840255591" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-47" value="&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#030100&quot;&gt;unit_lookup = unit_lookup_callable&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#050300&quot;&gt;grid = AStarGrid2D.new() &lt;i&gt;##defining the astar&lt;/i&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#050300&quot;&gt;grid.cell_size = Vector2i.ONE * TILE_SIZE &lt;i&gt;##cellsize&lt;/i&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#050300&quot;&gt;grid.region = tilemap.get_used_rect() ##&lt;i&gt;define astar size&lt;/i&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#050300&quot;&gt;grid.update()#&lt;i&gt;update the changes&lt;/i&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#050300&quot;&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#050300&quot;&gt;&lt;div style=&quot;font-size: 7px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;for cell in tilemap.get_used_cells(0):&lt;/div&gt;&lt;div style=&quot;font-size: 7px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;if tilemap.get_cell_tile_data(0, cell).get_custom_data(&#39;is_solid&#39;):&lt;/div&gt;&lt;div style=&quot;font-size: 7px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;grid.set_point_solid(cell, true)&lt;/div&gt;&lt;div style=&quot;font-size: 7px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 7px;&quot;&gt;#&amp;nbsp;loop each cell in the layer 0 tilemap grid.&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 7px;&quot;&gt;the dev predefine some tiles as solid&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="strokeColor=none;fillColor=none;whiteSpace=wrap;fontSize=10;align=left;horizontal=1;verticalAlign=top;fontColor=#FF8000;html=1;" parent="lPmOptHhdy0TYfp4bBg2-46" vertex="1">
          <mxGeometry x="3.8651118210862623" width="242.84415335463257" height="146.19808306709265" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=1;entryDx=0;entryDy=0;" parent="1" target="lPmOptHhdy0TYfp4bBg2-43" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="940" y="380" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="940" y="370" />
              <mxPoint x="992" y="370" />
              <mxPoint x="992" y="409" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-54" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1000" y="450" width="300" height="220" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-55" value="&lt;font style=&quot;font-size: 8px;&quot;&gt;snap_to_tile (&lt;font color=&quot;#66b2ff&quot;&gt;pos&lt;/font&gt;: Vector2, &lt;font color=&quot;#00cc66&quot;&gt;include_half_offset&lt;/font&gt;: bool = false) -&amp;gt; Vector2:&lt;/font&gt;" style="shape=delay;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" parent="lPmOptHhdy0TYfp4bBg2-54" vertex="1">
          <mxGeometry x="12.225" width="231.525" height="28.12" as="geometry" />
        </mxCell>
        <UserObject label="" Notes="#function for playing each sound, the arguments are the player node to play the sound, and the keyword from dic&#xa;#if we have the keyword in the sounds dictonary we continue if not return&#xa; #load the sound file to the player we choose&#xa;#play the sound" id="lPmOptHhdy0TYfp4bBg2-56">
          <mxCell style="html=1;overflow=block;blockSpacing=1;whiteSpace=wrap;fontSize=11.8;align=left;spacing=0;verticalAlign=top;strokeColor=#d6b656;fillOpacity=100;fillColor=#fff2cc;strokeWidth=NaN;lucidId=MKeQQ6PfqjTb;aspect=fixed;verticalLabelPosition=bottom;shape=mxgraph.basic.plaque;dx=6;" parent="lPmOptHhdy0TYfp4bBg2-54" vertex="1">
            <mxGeometry y="28.12" width="260" height="191.88" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-57" value="&lt;div style=&quot;font-size: 6px;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;font color=&quot;#cc0066&quot;&gt;var &lt;/font&gt;&lt;font color=&quot;#000000&quot;&gt;snapped = floor(&lt;/font&gt;&lt;font color=&quot;#66b2ff&quot;&gt;pos &lt;/font&gt;&lt;font color=&quot;#000000&quot;&gt;/ float(TILE_SIZE)) * TILE_SIZE&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&#x9;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;if &lt;/font&gt;&lt;font color=&quot;#00cc66&quot;&gt;include_half_offset&lt;/font&gt;&lt;font color=&quot;#000000&quot;&gt;:&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;snapped += Vector2.ONE * TILE_SIZE * 0.5&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&#x9;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;font color=&quot;#ff0080&quot;&gt;return &lt;/font&gt;&lt;font color=&quot;#000000&quot;&gt;snapped&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 6px;&quot; color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot; color=&quot;#000000&quot;&gt;&lt;div style=&quot;&quot;&gt;&#39;&#39;&#39;snap to tile-&lt;/div&gt;&lt;div style=&quot;&quot;&gt;this function take the global position (can be click on the portview, or objects on the grid) it translate it&lt;/div&gt;&lt;div style=&quot;&quot;&gt;to cell coordinates then floor it to bring it to the left point of the cell.&lt;/div&gt;&lt;div style=&quot;&quot;&gt;if we want a character to move to the center of the cell we can add the half offset boolean&lt;/div&gt;&lt;div style=&quot;&quot;&gt;when true will &quot;cut&quot; the cell dimansion by half to bring the location to the center.&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&#39;&#39;&#39;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="strokeColor=none;fillColor=none;whiteSpace=wrap;fontSize=10;align=left;horizontal=1;verticalAlign=top;fontColor=#FF8000;html=1;" parent="lPmOptHhdy0TYfp4bBg2-56" vertex="1">
          <mxGeometry x="3.87" width="256.13" height="170" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0.999;entryY=0.135;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1200" y="345" as="sourcePoint" />
            <mxPoint x="1233.5098781249997" y="501.6184534744409" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-59" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#D9B4B2;strokeColor=#b85450;fillStyle=auto;shadow=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-340" y="10" width="770" height="540" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-60" value="&lt;span style=&quot;color: rgb(255, 128, 0);&quot;&gt;UnitsContainer&amp;nbsp;&lt;/span&gt;&lt;font color=&quot;#cc0000&quot;&gt;Class +Script&lt;/font&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#af6d6a;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="200" y="20" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-63" value="&lt;font color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;groups&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;Array &lt;/font&gt;= [ ]" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-340" y="10" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.017;entryY=0.083;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="lPmOptHhdy0TYfp4bBg2-29" target="lPmOptHhdy0TYfp4bBg2-78" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="754" y="110" />
              <mxPoint x="580" y="110" />
              <mxPoint x="580" y="240" />
              <mxPoint x="409" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-64" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;font color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;current_group&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;Node&lt;/font&gt;&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-340" y="30" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-65" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;&quot; color=&quot;#030000&quot;&gt;current_group_index&lt;/font&gt;&lt;font style=&quot;&quot; color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;&quot; color=&quot;#004c99&quot;&gt;int &lt;/font&gt;= 0&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-340" y="50" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-66" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;font color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;current_unit_index&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;int &lt;/font&gt;= 0&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-340" y="70" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-67" value="&lt;font color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;current_unit&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;Unit&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-180" y="10" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-68" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;font color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;has_moved&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;bool &lt;/font&gt;&lt;font color=&quot;#000305&quot;&gt;= false&lt;/font&gt;&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-180" y="30" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-69" value="&lt;font style=&quot;font-size: 10px;&quot; color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;&quot;&gt;&lt;font color=&quot;#030000&quot;&gt;&lt;span style=&quot;font-size: 10px;&quot;&gt;has_attacked&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;&lt;span style=&quot;font-size: 10px;&quot;&gt;:&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px;&quot; color=&quot;#004c99&quot;&gt;bool&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 10px;&quot; color=&quot;#000305&quot;&gt;= false&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-180" y="50" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-70" value="&lt;font color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;current_acs&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;Array&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-180" y="70" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-71" value="" style="group;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-320" y="100" width="260" height="170" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-72" value="Ready()" style="shape=delay;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="lPmOptHhdy0TYfp4bBg2-71" vertex="1">
          <mxGeometry x="11.009739384840435" width="90.07968587596719" height="24.942084942084946" as="geometry" />
        </mxCell>
        <UserObject label="" Notes="#function for playing each sound, the arguments are the player node to play the sound, and the keyword from dic&#xa;#if we have the keyword in the sounds dictonary we continue if not return&#xa; #load the sound file to the player we choose&#xa;#play the sound" id="lPmOptHhdy0TYfp4bBg2-73">
          <mxCell style="html=1;overflow=block;blockSpacing=1;whiteSpace=wrap;fontSize=11.8;align=left;spacing=0;verticalAlign=top;strokeColor=#d6b656;fillOpacity=100;fillColor=#fff2cc;strokeWidth=NaN;lucidId=MKeQQ6PfqjTb;aspect=fixed;verticalLabelPosition=bottom;shape=mxgraph.basic.plaque;dx=6;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="lPmOptHhdy0TYfp4bBg2-71" vertex="1">
            <mxGeometry y="24.942084942084946" width="221.85328185328189" height="145.05791505791507" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-74" value="&lt;div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font color=&quot;#ff66ff&quot;&gt;for &lt;/font&gt;&lt;font color=&quot;#030100&quot;&gt;child &lt;/font&gt;&lt;font color=&quot;#ff66ff&quot;&gt;in &lt;/font&gt;&lt;font color=&quot;#030100&quot;&gt;get_children():&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;color: rgb(3, 1, 0); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;font color=&quot;#ff66ff&quot;&gt;if &lt;/font&gt;&lt;font color=&quot;#030100&quot;&gt;child.get_child_count() &amp;gt; 0:&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#030100&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;groups.append(child)&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#030100&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 6px;&quot;&gt;&lt;font style=&quot;font-size: 6px;&quot; color=&quot;#030100&quot;&gt;&lt;div style=&quot;&quot;&gt;first iterates inside the unit container and looking for groups (player,opponent,nonplayer),&lt;/div&gt;&lt;div style=&quot;&quot;&gt;then if each of the childs (player,opponent,nonplayer) have child of their own (units), then-&lt;/div&gt;&lt;div style=&quot;&quot;&gt;add the group (player,opponent,nonplayer) to our groups empty Array.&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="strokeColor=none;fillColor=none;whiteSpace=wrap;fontSize=10;align=left;horizontal=1;verticalAlign=top;fontColor=#FF8000;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="lPmOptHhdy0TYfp4bBg2-73" vertex="1">
          <mxGeometry x="3.60938223938224" y="7.833127413127413" width="211.99787644787645" height="137.22478764478765" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-75" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="190" y="70" width="260" height="170" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-76" value="start_battle() -&amp;gt; void:" style="shape=delay;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="lPmOptHhdy0TYfp4bBg2-75" vertex="1">
          <mxGeometry x="11.01" width="148.99" height="24.94" as="geometry" />
        </mxCell>
        <UserObject label="" Notes="#function for playing each sound, the arguments are the player node to play the sound, and the keyword from dic&#xa;#if we have the keyword in the sounds dictonary we continue if not return&#xa; #load the sound file to the player we choose&#xa;#play the sound" id="lPmOptHhdy0TYfp4bBg2-77">
          <mxCell style="html=1;overflow=block;blockSpacing=1;whiteSpace=wrap;fontSize=11.8;align=left;spacing=0;verticalAlign=top;strokeColor=#d6b656;fillOpacity=100;fillColor=#fff2cc;strokeWidth=NaN;lucidId=MKeQQ6PfqjTb;aspect=fixed;verticalLabelPosition=bottom;shape=mxgraph.basic.plaque;dx=6;" parent="lPmOptHhdy0TYfp4bBg2-75" vertex="1">
            <mxGeometry y="24.942084942084946" width="221.85328185328189" height="145.05791505791507" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-78" value="&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;font color=&quot;#000000&quot; style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;current_group = groups[0]&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;font color=&quot;#000000&quot; style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;font color=&quot;#000000&quot; style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;_begin_turn()&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;font color=&quot;#000000&quot; style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;font color=&quot;#000000&quot; style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;# it refers the groups array, which we now define the current_group which is a node type&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;#in our case its an array of unit class.&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="strokeColor=none;fillColor=none;whiteSpace=wrap;fontSize=10;align=left;horizontal=1;verticalAlign=top;fontColor=#FF8000;html=1;" parent="lPmOptHhdy0TYfp4bBg2-77" vertex="1">
          <mxGeometry x="3.60938223938224" y="7.833127413127413" width="211.99787644787645" height="137.22478764478765" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-5" value="&lt;div&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;Cemera&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px;&quot; color=&quot;#ff8000&quot;&gt;Camera2D&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="600" y="121" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=0.003;entryY=0.369;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" source="lPmOptHhdy0TYfp4bBg2-63" target="lPmOptHhdy0TYfp4bBg2-73" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-308" y="30" />
              <mxPoint x="-360" y="30" />
              <mxPoint x="-360" y="188" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0.004;entryY=0.127;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" source="lPmOptHhdy0TYfp4bBg2-74" target="lPmOptHhdy0TYfp4bBg2-78" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-124" y="130" />
              <mxPoint x="194" y="130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" source="lPmOptHhdy0TYfp4bBg2-65" target="lPmOptHhdy0TYfp4bBg2-78" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-180" y="50" />
              <mxPoint x="-180" y="40" />
              <mxPoint x="-170" y="40" />
              <mxPoint x="-170" y="30" />
              <mxPoint x="194" y="30" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-85" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="140" y="250" width="283.02" height="210" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-86" value="_begin_turn() -&amp;gt; void:" style="shape=delay;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="lPmOptHhdy0TYfp4bBg2-85" vertex="1">
          <mxGeometry x="11.433461538461538" width="133.95115384615386" height="24.94" as="geometry" />
        </mxCell>
        <UserObject label="" Notes="#function for playing each sound, the arguments are the player node to play the sound, and the keyword from dic&#xa;#if we have the keyword in the sounds dictonary we continue if not return&#xa; #load the sound file to the player we choose&#xa;#play the sound" id="lPmOptHhdy0TYfp4bBg2-87">
          <mxCell style="html=1;overflow=block;blockSpacing=1;whiteSpace=wrap;fontSize=11.8;align=left;spacing=0;verticalAlign=top;strokeColor=#d6b656;fillOpacity=100;fillColor=#fff2cc;strokeWidth=NaN;lucidId=MKeQQ6PfqjTb;aspect=fixed;verticalLabelPosition=bottom;shape=mxgraph.basic.plaque;dx=6;" parent="lPmOptHhdy0TYfp4bBg2-85" vertex="1">
            <mxGeometry y="24.94" width="280" height="162.47" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-88" value="&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#000000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;current_unit = current_group.get_child(current_unit_index) #&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#000000&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;has_attacked = &lt;/font&gt;&lt;font color=&quot;#ff1e05&quot; style=&quot;font-size: 9px;&quot;&gt;false&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#000000&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;has_moved = &lt;/font&gt;&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 9px;&quot;&gt;false&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#000000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;_update_paths()&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-size: 7px;&quot;&gt;&#39;&#39;&#39; begin turn - only run in this script (hence the _). assign the current unit var (which is type Unit node- a costume class node) to the element in the first place in the current_group array. defults the variables has_attacked and has_moved to false, as the unit need to be able to preform these lastly it starts the function _update_paths() VVV importent note the updated path here is to intilize the first turn which jumping to the first unit and showing is path. &#39;&#39;&#39;&lt;/span&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot; color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="strokeColor=none;fillColor=none;whiteSpace=wrap;fontSize=10;align=left;horizontal=1;verticalAlign=top;fontColor=#FF8000;html=1;" parent="lPmOptHhdy0TYfp4bBg2-87" vertex="1">
          <mxGeometry x="4.043200000000001" y="8.76975113746036" width="275.9568" height="148.03295119260991" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" source="lPmOptHhdy0TYfp4bBg2-78" target="lPmOptHhdy0TYfp4bBg2-88" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="170" y="137" />
              <mxPoint x="170" y="240" />
              <mxPoint x="144" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-93" value="" style="group;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-330" y="286" width="300" height="194" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-94" value="_update_paths() -&amp;gt; void" style="shape=delay;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="lPmOptHhdy0TYfp4bBg2-93" vertex="1">
          <mxGeometry x="9.53" width="160.47" height="18.97" as="geometry" />
        </mxCell>
        <UserObject label="" Notes="#function for playing each sound, the arguments are the player node to play the sound, and the keyword from dic&#xa;#if we have the keyword in the sounds dictonary we continue if not return&#xa; #load the sound file to the player we choose&#xa;#play the sound" id="lPmOptHhdy0TYfp4bBg2-95">
          <mxCell style="html=1;overflow=block;blockSpacing=1;whiteSpace=wrap;fontSize=11.8;align=left;spacing=0;verticalAlign=top;strokeColor=#d6b656;fillOpacity=100;fillColor=#fff2cc;strokeWidth=NaN;lucidId=MKeQQ6PfqjTb;aspect=fixed;verticalLabelPosition=bottom;shape=mxgraph.basic.plaque;dx=6;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="lPmOptHhdy0TYfp4bBg2-93" vertex="1">
            <mxGeometry y="18.973960784313725" width="273.88235294117646" height="175.02603921568627" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-96" value="&lt;div style=&quot;font-size: 7px;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;font style=&quot;font-size: 7px;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;EventBus.show_move_path.emit(null) &lt;i&gt;#Clears previous paths first&lt;/i&gt;&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#ff99ff&quot;&gt;&#x9;if &lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 7px;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;has_moved: &lt;/font&gt;&lt;i style=&quot;color: rgb(0, 0, 0);&quot;&gt;#in other words if has_moved == true or did already moved so now we focus on attack pattern&lt;/i&gt;&lt;br&gt;&#x9;&#x9;&lt;span style=&quot;color: rgb(0, 0, 0); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;font color=&quot;#000000&quot;&gt;current_acs = current_unit.get_attack_paths() #acsess the current unit node and extrpolate the attack path&lt;/font&gt;&lt;br&gt;&#x9;&#x9;&lt;span style=&quot;color: rgb(0, 0, 0); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;font color=&quot;#000000&quot;&gt;EventBus.show_attack_acs.emit(current_acs) #emit signal to show the current attack patterns&lt;/font&gt;&lt;br&gt;&#x9;&#x9;&lt;span style=&quot;color: rgb(0, 0, 0); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;font color=&quot;#000000&quot;&gt;EventBus.show_move_acs.emit([]) #clear the show walk path path &lt;/font&gt;&lt;br&gt;&#x9;&#x9;&lt;span style=&quot;color: rgb(0, 0, 0); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;font color=&quot;#000000&quot;&gt;return # exit the function&lt;/font&gt;&lt;br&gt;&#x9;&lt;br&gt;&lt;font color=&quot;#ff2a00&quot;&gt;&#x9;current_acs &lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 7px;&quot; color=&quot;#000000&quot;&gt;= current_unit.get_move_paths() #if the unit did not move get move path- takes the info from the data sheet of the class&lt;br&gt;&#x9;EventBus.show_move_acs.emit(current_acs) #emit signal to visoulize it&lt;br&gt;&#x9;EventBus.show_attack_acs.emit([]) #clear the previous attack action&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="strokeColor=none;fillColor=none;whiteSpace=wrap;fontSize=10;align=left;horizontal=1;verticalAlign=top;fontColor=#FF8000;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="lPmOptHhdy0TYfp4bBg2-95" vertex="1">
          <mxGeometry x="3.0735686274509804" y="4.59513725490196" width="263.20094117647056" height="112.61890196078431" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-97" value="EventBus&lt;div&gt;&lt;font color=&quot;#ff8000&quot;&gt;node&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff570f&quot;&gt;singelton&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eea85d;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="600" y="373.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-98" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eea85d;strokeColor=#d79b00;fillStyle=auto;shadow=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="440" y="450" width="260" height="215" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.138;entryY=0.018;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="lPmOptHhdy0TYfp4bBg2-97" target="lPmOptHhdy0TYfp4bBg2-98" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-100" value="EventBus&amp;nbsp;&lt;span style=&quot;color: rgb(204, 0, 0); background-color: initial;&quot;&gt;script&lt;/span&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="460" y="460" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-105" value="signal show_move_acs(acs)" style="html=1;shadow=0;dashed=0;align=left;verticalAlign=middle;shape=mxgraph.arrows2.calloutArrow;dy=8.46;dx=54.76;notch=188.56;arrowHead=7.02;fillColor=#ff0d00;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="450" y="495" width="250" height="25" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-106" value="signal show_attack_acs(acs)" style="html=1;shadow=0;dashed=0;align=left;verticalAlign=middle;shape=mxgraph.arrows2.calloutArrow;dy=8.46;dx=54.76;notch=188.56;arrowHead=7.02;fillColor=#ff0d00;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="450" y="530" width="250" height="25" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=25;exitPerimeter=0;endArrow=none;endFill=0;dashed=1;dashPattern=12 12;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" source="lPmOptHhdy0TYfp4bBg2-107" target="lPmOptHhdy0TYfp4bBg2-96" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="450" y="578" />
              <mxPoint x="40" y="578" />
              <mxPoint x="40" y="366" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-109" value="1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=1;points=[];movable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;labelBackgroundColor=none;" parent="lPmOptHhdy0TYfp4bBg2-108" vertex="1" connectable="0">
          <mxGeometry x="0.4349" relative="1" as="geometry">
            <mxPoint x="-90" y="-71" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-107" value="signal show_move_path(ac) &lt;font style=&quot;font-size: 5px;&quot;&gt;#this first in _update_paths()&lt;/font&gt;" style="html=1;shadow=0;dashed=0;align=left;verticalAlign=middle;shape=mxgraph.arrows2.calloutArrow;dy=8.46;dx=54.76;notch=188.56;arrowHead=7.02;fillColor=#ff0d00;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="450" y="565" width="250" height="25" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" source="lPmOptHhdy0TYfp4bBg2-88" target="lPmOptHhdy0TYfp4bBg2-96" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="144" y="430" />
              <mxPoint x="87" y="430" />
              <mxPoint x="87" y="314" />
              <mxPoint x="-59" y="314" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-111" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;dashed=1;dashPattern=12 12;endArrow=none;endFill=0;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" source="lPmOptHhdy0TYfp4bBg2-96" target="lPmOptHhdy0TYfp4bBg2-105" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="450" y="510" as="targetPoint" />
            <Array as="points">
              <mxPoint x="50" y="394" />
              <mxPoint x="50" y="480" />
              <mxPoint x="420" y="480" />
              <mxPoint x="420" y="510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-112" value="2" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=1;points=[];labelBackgroundColor=none;movable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="lPmOptHhdy0TYfp4bBg2-111" vertex="1" connectable="0">
          <mxGeometry x="-0.5987" y="1" relative="1" as="geometry">
            <mxPoint x="-101" y="-50" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-114" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cc99ff;strokeColor=#d79b00;fillStyle=auto;shadow=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="574.89" y="750" width="610" height="390" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.993;entryY=0.084;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="lPmOptHhdy0TYfp4bBg2-3" target="lPmOptHhdy0TYfp4bBg2-114" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="590" y="228" />
              <mxPoint x="590" y="250" />
              <mxPoint x="440" y="250" />
              <mxPoint x="440" y="730" />
              <mxPoint x="1190" y="730" />
              <mxPoint x="1190" y="790" />
              <mxPoint x="1181" y="790" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-116" value="Cell highlight&amp;nbsp;&lt;span style=&quot;color: rgb(204, 0, 0); background-color: initial;&quot;&gt;script&lt;/span&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="585" y="770" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.708;entryY=0.014;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" source="lPmOptHhdy0TYfp4bBg2-70" target="lPmOptHhdy0TYfp4bBg2-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-118" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#c9c9c9;strokeColor=#000000;fillStyle=auto;shadow=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-1050" y="477" width="520" height="350" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="lPmOptHhdy0TYfp4bBg2-119" target="lPmOptHhdy0TYfp4bBg2-118">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-119" value="abilities_db&lt;div&gt;&lt;font color=&quot;#ff8000&quot;&gt;node&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C9C9C9;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="-470" y="460" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-121" value="&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;abilities_db&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 0, 0); background-color: initial;&quot;&gt;script&amp;nbsp;&lt;/span&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-1030" y="495" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-123" value="&lt;font color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;unit: &lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;Unit&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="-760" y="500" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-132" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="lPmOptHhdy0TYfp4bBg2-125" target="lPmOptHhdy0TYfp4bBg2-131" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-125" value="player&lt;div&gt;&lt;span style=&quot;color: rgb(255, 128, 0);&quot;&gt;node2D&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d9b4b2;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="510" y="100" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-126" value="opponent&lt;div&gt;&lt;span style=&quot;color: rgb(255, 128, 0);&quot;&gt;node2D&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d9b4b2;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="510" y="140" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-127" value="&lt;div&gt;nonplayer&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(255, 128, 0);&quot;&gt;node2D&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d9b4b2;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="510" y="180" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-130" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.745;entryY=0.667;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="lPmOptHhdy0TYfp4bBg2-4" target="lPmOptHhdy0TYfp4bBg2-127" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="90" />
              <mxPoint x="570" y="200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-135" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.877;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="lPmOptHhdy0TYfp4bBg2-131" target="lPmOptHhdy0TYfp4bBg2-133" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="455" y="-10" />
              <mxPoint x="-431" y="-10" />
              <mxPoint x="-431" />
              <mxPoint x="-431" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-131" value="unit#&lt;div&gt;&lt;span style=&quot;color: rgb(255, 128, 0);&quot;&gt;Unit&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F5CBC9;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="440" y="100" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="lPmOptHhdy0TYfp4bBg2-133" target="lPmOptHhdy0TYfp4bBg2-119">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-420" y="423" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lPmOptHhdy0TYfp4bBg2-133" target="9x6yO77n2d7459XCzhv3-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="lPmOptHhdy0TYfp4bBg2-133" target="9x6yO77n2d7459XCzhv3-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-133" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5cbc9;strokeColor=#b85450;fillStyle=auto;shadow=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="-870" y="13.5" width="500" height="410" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-134" value="&lt;span style=&quot;color: rgb(255, 128, 0);&quot;&gt;Unit&amp;nbsp;&lt;/span&gt;&lt;font color=&quot;#cc0000&quot;&gt;Class +Script&lt;/font&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#af6d6a;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="-590" y="25" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-137" value="signal movement_complete" style="html=1;shadow=0;dashed=0;align=left;verticalAlign=middle;shape=mxgraph.arrows2.calloutArrow;dy=8.46;dx=54.76;notch=188.56;arrowHead=7.02;fillColor=#ff0d00;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="-860" y="22.5" width="250" height="25" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-138" value="signal attack_beginning(ac)" style="html=1;shadow=0;dashed=0;align=left;verticalAlign=middle;shape=mxgraph.arrows2.calloutArrow;dy=8.46;dx=54.76;notch=188.56;arrowHead=7.02;fillColor=#ff0d00;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="-860" y="57.5" width="250" height="25" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-139" value="signal attack_complete" style="html=1;shadow=0;dashed=0;align=left;verticalAlign=middle;shape=mxgraph.arrows2.calloutArrow;dy=8.46;dx=54.76;notch=188.56;arrowHead=7.02;fillColor=#ff0d00;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="-860" y="92.5" width="250" height="25" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-140" value="&lt;font color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;def&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;UnitDefinition&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-581" y="107.5" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-141" value="&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;font color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;move_speed_per_cell&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;float &lt;/font&gt;&lt;font color=&quot;#00080f&quot;&gt;= 0.15&lt;/font&gt;&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-585" y="130" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-142" value="&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;&quot; color=&quot;#030000&quot;&gt;flash_color&lt;/font&gt;&lt;font style=&quot;&quot; color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;&quot; color=&quot;#004c99&quot;&gt;&amp;nbsp;Color = Color(&#39;#b76954&#39;)&lt;/font&gt;&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-587" y="150" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="lPmOptHhdy0TYfp4bBg2-143" target="lPmOptHhdy0TYfp4bBg2-119">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-360" y="212" />
              <mxPoint x="-360" y="472" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-143" value="&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;&quot; color=&quot;#030000&quot;&gt;abilities_db&lt;/font&gt;&lt;font style=&quot;&quot; color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;&quot; color=&quot;#004c99&quot;&gt;Node&lt;/font&gt;= &lt;font style=&quot;&quot; color=&quot;#006e21&quot;&gt;%abilities_db&lt;/font&gt;&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-585" y="206.5" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="lPmOptHhdy0TYfp4bBg2-144" target="9x6yO77n2d7459XCzhv3-11">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-591" y="290" />
              <mxPoint x="-995" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-144" value="&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;font color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;sprite&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;AnimatedSprite2D&lt;/font&gt;= &lt;font color=&quot;#006e21&quot;&gt;%sprite&lt;/font&gt;&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-591" y="230" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="lPmOptHhdy0TYfp4bBg2-145" target="9x6yO77n2d7459XCzhv3-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-601" y="260" />
              <mxPoint x="-601" y="270" />
              <mxPoint x="-1040" y="270" />
              <mxPoint x="-1040" y="52" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-145" value="&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;font color=&quot;#cc0000&quot;&gt;var&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#030000&quot;&gt;health_bar&lt;/font&gt;&lt;font color=&quot;#cc0000&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#004c99&quot;&gt;Node2D&lt;/font&gt;= &lt;font color=&quot;#006e21&quot;&gt;%health_bar&lt;/font&gt;&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f8cecc;strokeColor=#b85450;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-601" y="250" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-146" value="&lt;font color=&quot;#cc0000&quot;&gt;@export&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=50;size=0;fillColor=#D9BD5F;strokeColor=#d79b00;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-580" y="82.5" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lPmOptHhdy0TYfp4bBg2-147" value="&lt;font color=&quot;#cc0000&quot;&gt;@onready&lt;/font&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=50;size=0;fillColor=#D9BD5F;strokeColor=#d79b00;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="-587" y="185" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-4" value="HealthBar&lt;div&gt;&lt;font color=&quot;#ff8000&quot;&gt;node2d&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#B9E0A5;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-1020" y="15" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-7" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b9e0a5;strokeColor=#006600;fillStyle=auto;shadow=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="1">
          <mxGeometry x="-1790" y="13.5" width="720" height="215" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.998;entryY=0.119;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="9x6yO77n2d7459XCzhv3-4" target="9x6yO77n2d7459XCzhv3-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-10" value="HealthBar&amp;nbsp;&lt;span style=&quot;color: rgb(204, 0, 0); background-color: initial;&quot;&gt;script&amp;nbsp;&lt;/span&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-1780" y="17.5" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-11" value="sprite&lt;div&gt;&lt;font color=&quot;#ff8000&quot;&gt;Sprite2d&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFFF;strokeColor=#007FFF;" vertex="1" parent="1">
          <mxGeometry x="-1020" y="121" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-13" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="-650" y="280" width="274.88" height="156.5" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-14" value="Ready()" style="shape=delay;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="9x6yO77n2d7459XCzhv3-13">
          <mxGeometry x="11.63983523886515" width="95.23501559071487" height="24.076923076923077" as="geometry" />
        </mxCell>
        <UserObject label="" Notes="#function for playing each sound, the arguments are the player node to play the sound, and the keyword from dic&#xa;#if we have the keyword in the sounds dictonary we continue if not return&#xa; #load the sound file to the player we choose&#xa;#play the sound" id="9x6yO77n2d7459XCzhv3-15">
          <mxCell style="html=1;overflow=block;blockSpacing=1;whiteSpace=wrap;fontSize=11.8;align=left;spacing=0;verticalAlign=top;strokeColor=#d6b656;fillOpacity=100;fillColor=#fff2cc;strokeWidth=NaN;lucidId=MKeQQ6PfqjTb;aspect=fixed;verticalLabelPosition=bottom;shape=mxgraph.basic.plaque;dx=6;" vertex="1" parent="9x6yO77n2d7459XCzhv3-13">
            <mxGeometry y="24.076923076923077" width="274.88" height="116.3983523886515" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="9x6yO77n2d7459XCzhv3-16" value="&lt;div style=&quot;font-size: 7px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 7px;&quot; color=&quot;#030100&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;global_position = Navigation.snap_to_tile(global_position, true) #snap the unit to the middle of the cell&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 7px;&quot; color=&quot;#030100&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 7px;&quot; color=&quot;#030100&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;abilities_db.unit = self&amp;nbsp; #it takes the unit variable inside abilities_db and sets it to this node. now&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: initial; color: rgb(3, 1, 0);&quot;&gt;everything isinde the abilities_db attache to this node can be refrenced there.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial; color: rgb(3, 1, 0);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 7px;&quot; color=&quot;#030100&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;health_bar.init(health, max_health) # initilize the health_bar update when the game runs&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#0000ff&quot; style=&quot;font-size: 7px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;_init_def()&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="strokeColor=none;fillColor=none;whiteSpace=wrap;fontSize=10;align=left;horizontal=1;verticalAlign=top;fontColor=#FF8000;html=1;" vertex="1" parent="9x6yO77n2d7459XCzhv3-15">
          <mxGeometry x="4.47" y="9.7" width="262.67" height="100.3" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-23" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="-850" y="130" width="259" height="150" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-24" value="&lt;font style=&quot;font-size: 8px;&quot;&gt;_init_def() -&amp;gt; void&lt;/font&gt;" style="shape=delay;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="9x6yO77n2d7459XCzhv3-23">
          <mxGeometry x="10.96739423336028" width="89.73322554567504" height="23.076923076923073" as="geometry" />
        </mxCell>
        <UserObject label="" Notes="#function for playing each sound, the arguments are the player node to play the sound, and the keyword from dic&#xa;#if we have the keyword in the sounds dictonary we continue if not return&#xa; #load the sound file to the player we choose&#xa;#play the sound" id="9x6yO77n2d7459XCzhv3-25">
          <mxCell style="html=1;overflow=block;blockSpacing=1;whiteSpace=wrap;fontSize=11.8;align=left;spacing=0;verticalAlign=top;strokeColor=#d6b656;fillOpacity=100;fillColor=#fff2cc;strokeWidth=NaN;lucidId=MKeQQ6PfqjTb;aspect=fixed;verticalLabelPosition=bottom;shape=mxgraph.basic.plaque;dx=6;" vertex="1" parent="9x6yO77n2d7459XCzhv3-23">
            <mxGeometry y="23.076923076923073" width="220" height="110" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="9x6yO77n2d7459XCzhv3-26" value="&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 7px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 7px;&quot;&gt;&lt;font color=&quot;#030100&quot;&gt;sprite.sprite_frames = def.frames&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#0000ff&quot;&gt;&amp;nbsp;sprite.play()&lt;br&gt;&lt;/font&gt;&#x9;&lt;br&gt;&lt;font color=&quot;#ff66ff&quot;&gt;&#x9;for &lt;/font&gt;&lt;font color=&quot;#e5ccff&quot;&gt;component &lt;/font&gt;&lt;font color=&quot;#030100&quot;&gt;in &lt;/font&gt;&lt;font color=&quot;#ff9933&quot;&gt;def.type_components&lt;/font&gt;&lt;font color=&quot;#030100&quot;&gt;:&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#030100&quot;&gt;&#x9;&#x9;var comp = component.instantiate() as UnitTypeComponent&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#030100&quot;&gt;&#x9;&#x9;add_child(comp)&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#030100&quot;&gt;&#x9;&#x9;comp.unit = self&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="strokeColor=none;fillColor=none;whiteSpace=wrap;fontSize=10;align=left;horizontal=1;verticalAlign=top;fontColor=#FF8000;html=1;" vertex="1" parent="9x6yO77n2d7459XCzhv3-25">
          <mxGeometry x="4.67" y="0.09" width="215.33" height="109.91" as="geometry" />
        </mxCell>
        <mxCell id="9x6yO77n2d7459XCzhv3-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.85;entryY=1.019;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="9x6yO77n2d7459XCzhv3-16" target="9x6yO77n2d7459XCzhv3-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
